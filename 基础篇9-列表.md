# 老王Python学习笔记
## 一、基础篇

> - 代码运行环境为jupyter notebook 4.3.1
> - 符号“>>>”后边内容表示代码运行输出结果

---

### 基础篇9-基本数据结构-列表

#### 1 有序的集合
```
a = [1, 2, 3, 4]
```

#### 2 通过偏移来索引，从而读取数据
```
a = [1, 2, 3, 4]
a[1]
>>> 2

a[-1]
>>> 4
```
#### 3 支持嵌套
```
b = [[0, 1], [1, 2], [1, 2, 3, 4]]
```

#### 4 可变的类型
> list本身可以包含不同类型的对象（字符串、元组、列表等），而且可以修改原列表。

```
b = [[0, 1], [1, 2], 1, 2, "1,2"]
b[1][1] = 5
b
>>> [[0, 1], [1, 5], 1, 2, '1,2']
```
---

#### 5 切片
```
 a = [1, 2, 3, 4, 5, 6, 7]
```
- 1. **正向索引**
```
a[0:4:1]  # 从左往右输出前4个列表元素，“0:4”含左不含右，“1”为步长。
>>> [1, 2, 3, 4]
```
- 2. **反向索引**
```
a[-1:-4:-1]  # 从右往左输出后三个元素，步长-1. 
>>> [7,6,5]
```
- 3. **默认索引**
```
a[:4]
>>> [1, 2, 3, 4]

a[1::2] #省略索引结束值，步长为2
>>> [2,4,6]
```
---

#### 6 添加操作

- 1. **+** 
> 生成一个新的列表
```
a = [1,2,3]
b = [4,5,6]
a+b
>>> [1, 2, 3, 4, 5, 6]
```

- 2. **extend**  
> 接受参数并将该参数的每个元素都添加到原有的列表中，原地修改列表而不是新建列表

```
a = [1,2,3]
b = [4,5,6]
id(a)
>>> 45332480

a.extend(b)
a
>>> [1, 2, 3, 4, 5, 6]

id(a)
>>> 45332480
```

- 3. **append** 
> 添加任意对象到列表的末端
```
a = [1,2,3]
a.append(4)  # 原地修改列表而不是新建列表
a
>>> [1, 2, 3, 4]

a.append("python") 
a
>>> [1, 2, 3, 4,"python"] # 运行1次尾端添加1个元素，多次运行添加多个相同元素
```

- 4. **insert** 
> 插入任意对象到列表中，可以控制插入位置。
```
a = [1,2,3]
a.insert(1, "python") 
a
>>> [1, 'python', 2, 3]
```
---

#### 7 修改操作

修改列表本身只需要直接赋值操作就行。
```
a = [1,2,3]
a[0]="haha"
a
>>> ['haha', 2, 3]
```
---

#### 8 删除操作

- 1. **del** 
> 通过索引删除指定位置的元素。
```
a = [1,2,3,4,5,6,5]
del a[0]
a
>>> [2, 3, 4, 5, 6, 5]
```

- 2. **remove**
> 移除列表中指定值的第一个匹配值。如果没找到的话，会抛异常。
```
a = [1,2,3,4,5,6,5]
a.remove(5)
a
>>> [1, 2, 3, 4, 6, 5]  #第一个5被移除
```

- 3. **pop**
> 通过索引删除某个元素，并返回该元素，默认删除最后一个元素。
```
a = [1,2,3,4,5,6,5]
a.pop(1)
>>> 2

a.pop()
>>> 5

a
>>> [1, 3, 4, 5, 6]
```
---

#### 9 成员关系

In , not in可以判断一个元素是否在列表里, 返回一个bool类型，元素在列表里返回true，否则返回fasle.
```
a = [1,2,3,4]
2 in a
>>> True

5 in a
>>> False

5 not in a
>>> True
```
---

#### 10 列表推导式

- 1. **[expr for iter_var in iterable]**

> 首先迭代iterable里所有内容，每一次迭代，都把iterable里相应内容放到iter_var中，再在表达式中应用该iter_var的内容，最后用表达式的计算值生成一个列表。

比如我们要生成一个包含1到10的列表
```
# the first method
[x for x in range(1,11)]
>>> [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]

# the second method
Range(1,11)
>>> [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]
```

- 2. **[expr for iter_var in iterable if cond_expr]**
> 加入了判断语句，只有满足条件的内容才把iterable里相应内容放到iter_var中，再在表达式中应用该iter_var的内容，最后用表达式的计算值生成一个列表。

例如，要生成包含1到10的所有奇数列表。
```
# the first method
[x for x in range(1,11) if x % 2 == 1]
>>> [1, 3, 5, 7, 9]

# the second method
range(1,11,2)
>>> [1, 3, 5, 7, 9]
```
---

#### 11 排序翻转：sort, reverse
- 1. **sort**
> sort直接修改原列表,返回值为None。默认reverse= False, 返回结果为升序排列，可通过设置参数reverse= True，返回降序排列的结果。
```
a = [33,11,22,44]
b = a.sort()  
a
>>> [11, 22, 33, 44]

b == None
>>> True
```
- 2. **reverse**
> 直接反转list原列表, 返回值为None.
```
a = [11, 22, 33, 44]
b = a.reverse()
a
>>> [44, 33, 22, 11]

b == None
>>> True
```
---

#### 12.本节练习题

一 下面列表：

a = [1,2,3,4,5,333,11,44]

输出下面的结果：

[4,5,333]

二 有下面2个列表

a = [1,2,3]
b = [4,5,6]

用2个方法输出下面结果：

[1,2,3,4,5,6]


三 有下面2个列表：

a = [1,99,33,44,55,22]

输出结果:

1：[1,2,99,33,44,55,22,(11,33,54)]

2: [1,2,99,33,101,44,55,22]


四：用列表推导式生成100内的大于20的偶数

#### 12.本节练习题答案

> 重在练习巩固知识，答案仅供参考。

```
"""
一 下面列表：

a = [1,2,3,4,5,333,11,44]

输出下面的结果：

[4,5,333]

"""

a = [1,2,3,4,5,333,11,44]
a[3:6]
>>> [4, 5, 333]
```
---

```
"""
二 有下面2个列表

a = [1,2,3]
b = [4,5,6]

用2个方法输出下面结果：

[1,2,3,4,5,6]
"""

# method 1
a = [1,2,3]
b = [4,5,6]
a+b
>>> [1,2,3,4,5,6]
# method 2
a = [1,2,3]
b = [4,5,6]
a.extend(b)
a
>>> [1,2,3,4,5,6]
```
---

```
"""
三 有下面2个列表：

a = [1,99,33,44,55,22]

输出结果:

1：[1,2,99,33,44,55,22,(11,33,54)]

2: [1,2,99,33,101,44,55,22]
"""
# result 1
a = [1,99,33,44,55,22]
b = (11,33,54)

a.insert(1,2)
a.append(b)
a
>>> [1,2,99,33,44,55,22,(11,33,54)]

# result 2
a = [1,99,33,44,55,22]
a.insert(1,2)
a.insert(4,101)
a
>>> [1, 2, 99, 33, 101, 44, 55, 22]
```
---

```
"""
四：用列表推导式生成100内的大于20的偶数
"""

[x for x in range(0,100,2) if x > 20]
>>> [22,24,26,28,30, 32,34,36,38,40,42,44, 46,48,50,52,54,56,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98]
```
# 老王Python学习笔记
## 一、基础篇

> - 代码运行环境为jupyter notebook 4.3.1
> - 符号“>>>”后边内容表示代码运行输出结果

---

### 基础篇20-函数

#### 1. 函数是抽象的第一步
1.1 函数是抽象出来的结构，是总结，是方法（但并不会自动执行）；

1.2 多用函数，函数能够解决大部分问题

---
#### 2. 如何定义函数
##### 2.1 def是关键词，括号冒号永不忘，无缩进无真相。

##### 2.2 没有return，不是真函数。

##### 2.3 不写doc的函数，就像没有性别的人类。

```
#coding=utf-8

def test():
    "测试函数"
    return 'hello world!'
print test()
print test.__doc__

>>> 
hello world!
测试函数
```
---

#### 3. 函数参数
##### 3.1 定义参数：位置参数，可选参数
> - **位置参数**：可理解为用来占位置的参数，必须要给定的，而且必须是全部给定，一个都不能少。
> - **可选参数**：不是必需的，可作为默认值。

```
def afunc(x,y,z=1): # x,y是位置参数；z=1是可选参数
    "返回x，y，z"
    return x,y,z

print afunc(3) 
# 只给定1个位置参数，位置参数不全，返回结果出错。
>>> TypeError: afunc() takes at least 2 arguments (1 given)

print afunc(3,4) 
# 完整给定位置参数；可选参数没有给定，按默认值输出。
>>> (3, 4, 1)

print afunc(3,4,z=5) 
# 完整给定位置参数,并且给定可选参数，则可选参数按给定值输出。
>>> (3, 4, 5)
```
---

##### 3.2 局部变量和全局变量
- **局部变量**：变量只在函数内部有效
- **全局变量**：顾名思义，变量在全部范围有效。
> **函数优先调用内部定义的局部变量；如果没有找到，则函数会继续查找全局变量。**
>
> **如果函数想修改全局变量，则需要在函数内部声明引用的是全局变量，而非局部变量。**
>
> **虽然全局变量可以进行修改，若非万不得已，不要随便修改全局变量，容易引起大麻烦。**

```
b = 1 # 将1赋值给全局变量b
def bfunc():
    "输出局部变量"
    b = 5 #将5赋值给函数bfunc的局部变量b
    return b

print bfunc() 
# 调用函数bfunc，优先返回局部变量b = 5，而不引用全局变量b = 1

print b 
# 输出全局变量b = 1，而不能引用函数内部定义的局部变量。
>>> 
5
1
```
---

```
b = 1 # 将1赋值给全局变量b
def bfunc():
    "修改并输出全局变量"
    global b #函数内部声明引用的是全局变量b
    b = 5 #将5赋值给全局变量b
    return b #返回重新赋值的全局变量b

print bfunc() #调用函数，返回重新赋值的全局变量b = 5
print b  #输出重新赋值的全局变量b = 5
>>>
5
5
```

---

##### 3.3 参数默认值
> 通过函数的可选参数设置默认值，如上面例子所写。

---

##### 3.4 修改参数

```
c = [1,2,3]
def cfunc(d):
    "修改参数c，并输出[1,2,3,4]"
    d.append(4)
    return d

c = cfunc(c)
print(c)
>>> [1, 2, 3, 4]
```
---

##### 3.5 几点点提醒
> 两颗**（猩猩）代表字典。
>
> 一颗*（星）代表元组。

```
def info(a,b,c,*x,**y): 
    "以a，b，c为位置参数，以*x（元组）,**y（字典）为可选参数，输出一系列数值"
    return a,b,c,x,y

print info(1,2,3,4,5,i=6,j=7)
# 按照位置参数、元组类型可选参数、字典类型可选参数顺序给定参数并输出。
>>>
(1, 2, 3, (4, 5), {'i': 6, 'j': 7})
```
**最后需要注意的两点是：**
> 1. 调用函数时，**输入参数的顺序必须与函数定义的参数顺序保持一致**，否则返回结果报错。

> 2. **字典类型的可选参数的键不可与位置参数重复**，否则也会报错。

---

#### 4. 本节习题

##### 1 写一个函数代码，返回这3个数字中最大的一个。

a = 123

b = 345

c = 444


##### 2 分别写2个函数，完成下面的功能：

提示一下用到函数的：猩猩是字典，星是元组

###### 2.1 调用函数：ainfo(x=88,y=22,z=44) 

你定义ainfo函数体里面的内容并且返回结果： 
[22, 44, 88]

###### 2.2 调用函数：cinfo(x=88,y=22,z=44) 

你定义cinfo函数体里面的内容并且返回结果：

('xaay','yaay','zaay')


#### 5. 本节习题答案
> 重在练习巩固，答案仅供参考。

##### 1 写一个函数代码，返回这3个数字中最大的一个。

a = 123

b = 345

c = 444

```
def afunc(**x):  # **x代表字典x
    "返回一列数的最大值"
    value_list = x.values()  # 取出字典的值并赋值给新的列表
    value_list.sort() # 列表从小到大排序
    return value_list[-1] # 返回最大值，即排序后列表的最后一个值。

print afunc(a = 123, b = 345, c = 444)
>>> 444
```
---

##### 2 分别写2个函数，完成下面的功能：

提示一下用到函数的：猩猩是字典，星是元组

###### 2.1 调用函数：ainfo(x=88,y=22,z=44) 

你定义ainfo函数体里面的内容并且返回结果： 
[22, 44, 88]

```
def ainfo(**k):
    "以列表形式，输出一列数的从小到大排序"
    value_list = k.values() # 取出字典的值并赋值给新的列表
    value_list.sort() # 列表从小到大排序
    return value_list # 返回排序后的列表（原地修改）

print ainfo(x=88,y=22,z=44) 
>>> [22, 44, 88]
```

---

###### 2.2 调用函数：cinfo(x=88,y=22,z=44) 

你定义cinfo函数体里面的内容并且返回结果：

('xaay','yaay','zaay')

```
def ainfo(**k):
    "以元组形式，输出一列数的键"
    value_list = k.keys() # 取出字典的键并赋值给新的列表
    value_list.sort() # 列表排序(a-z)
    
    # format形式输出字符串
    value_str = "{x}aa{y}, {y}aa{y}, {z}aa{y}".format(x = value_list[0], y = value_list[1], z = value_list[2])
    
    # 先使用split方法将字符串分割成列表，并转换成元组输出
    return tuple(value_str.split(","))

print ainfo(x=88,y=22,z=44) 
>>> ('xaay', ' yaay', ' zaay')
```
